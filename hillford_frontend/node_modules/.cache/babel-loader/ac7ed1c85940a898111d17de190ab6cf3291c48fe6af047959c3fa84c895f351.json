{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Joy\\\\El\\\\Projects\\\\Full Stack\\\\Hillford\\\\hillford_frontend\\\\src\\\\utils\\\\RequireAuth.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { push } from \"connected-react-router\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function requireAuth(Component) {\n  class AuthenticatedComponent extends React.Component {\n    constructor(props) {\n      super(props);\n      this.checkAuth();\n    }\n    componentDidUpdate(prevProps, prevState) {\n      this.checkAuth();\n    }\n    checkAuth() {\n      if (!this.props.isAuthenticated) {\n        const redirectAfterLogin = this.props.location.pathname;\n        this.props.dispatch(push(`/login?next=${redirectAfterLogin}`));\n      }\n    }\n    render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.props.isAuthenticated === true ? /*#__PURE__*/_jsxDEV(Component, {\n          ...this.props\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this);\n    }\n  }\n  AuthenticatedComponent.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    location: PropTypes.shape({\n      pathname: PropTypes.string.isRequired\n    }).isRequired,\n    dispatch: PropTypes.func.isRequired\n  };\n  const mapStateToProps = state => {\n    return {\n      isAuthenticated: state.auth.isAuthenticated,\n      token: state.auth.token\n    };\n  };\n  return connect(mapStateToProps)(AuthenticatedComponent);\n}","map":{"version":3,"names":["React","connect","push","PropTypes","requireAuth","Component","AuthenticatedComponent","constructor","props","checkAuth","componentDidUpdate","prevProps","prevState","isAuthenticated","redirectAfterLogin","location","pathname","dispatch","render","propTypes","bool","isRequired","shape","string","func","mapStateToProps","state","auth","token"],"sources":["C:/Users/Joy/El/Projects/Full Stack/Hillford/hillford_frontend/src/utils/RequireAuth.js"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { push } from \"connected-react-router\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function requireAuth(Component) {\r\n  class AuthenticatedComponent extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.checkAuth();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n      this.checkAuth();\r\n    }\r\n\r\n    checkAuth() {\r\n      if (!this.props.isAuthenticated) {\r\n        const redirectAfterLogin = this.props.location.pathname;\r\n        this.props.dispatch(push(`/login?next=${redirectAfterLogin}`));\r\n      }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div>\r\n          {this.props.isAuthenticated === true ? (\r\n            <Component {...this.props} />\r\n          ) : null}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  AuthenticatedComponent.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    location: PropTypes.shape({\r\n      pathname: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    dispatch: PropTypes.func.isRequired\r\n  };\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      isAuthenticated: state.auth.isAuthenticated,\r\n      token: state.auth.token\r\n    };\r\n  };\r\n\r\n  return connect(mapStateToProps)(AuthenticatedComponent);\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,IAAI,QAAQ,wBAAwB;AAC7C,OAAOC,SAAS,MAAM,YAAY;AAAC;AAEnC,eAAe,SAASC,WAAW,CAACC,SAAS,EAAE;EAC7C,MAAMC,sBAAsB,SAASN,KAAK,CAACK,SAAS,CAAC;IACnDE,WAAW,CAACC,KAAK,EAAE;MACjB,KAAK,CAACA,KAAK,CAAC;MACZ,IAAI,CAACC,SAAS,EAAE;IAClB;IAEAC,kBAAkB,CAACC,SAAS,EAAEC,SAAS,EAAE;MACvC,IAAI,CAACH,SAAS,EAAE;IAClB;IAEAA,SAAS,GAAG;MACV,IAAI,CAAC,IAAI,CAACD,KAAK,CAACK,eAAe,EAAE;QAC/B,MAAMC,kBAAkB,GAAG,IAAI,CAACN,KAAK,CAACO,QAAQ,CAACC,QAAQ;QACvD,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACf,IAAI,CAAE,eAAcY,kBAAmB,EAAC,CAAC,CAAC;MAChE;IACF;IAEAI,MAAM,GAAG;MACP,oBACE;QAAA,UACG,IAAI,CAACV,KAAK,CAACK,eAAe,KAAK,IAAI,gBAClC,QAAC,SAAS;UAAA,GAAK,IAAI,CAACL;QAAK;UAAA;UAAA;UAAA;QAAA,QAAI,GAC3B;MAAI;QAAA;QAAA;QAAA;MAAA,QACJ;IAEV;EACF;EACAF,sBAAsB,CAACa,SAAS,GAAG;IACjCN,eAAe,EAAEV,SAAS,CAACiB,IAAI,CAACC,UAAU;IAC1CN,QAAQ,EAAEZ,SAAS,CAACmB,KAAK,CAAC;MACxBN,QAAQ,EAAEb,SAAS,CAACoB,MAAM,CAACF;IAC7B,CAAC,CAAC,CAACA,UAAU;IACbJ,QAAQ,EAAEd,SAAS,CAACqB,IAAI,CAACH;EAC3B,CAAC;EAED,MAAMI,eAAe,GAAGC,KAAK,IAAI;IAC/B,OAAO;MACLb,eAAe,EAAEa,KAAK,CAACC,IAAI,CAACd,eAAe;MAC3Ce,KAAK,EAAEF,KAAK,CAACC,IAAI,CAACC;IACpB,CAAC;EACH,CAAC;EAED,OAAO3B,OAAO,CAACwB,eAAe,CAAC,CAACnB,sBAAsB,CAAC;AACzD"},"metadata":{},"sourceType":"module","externalDependencies":[]}